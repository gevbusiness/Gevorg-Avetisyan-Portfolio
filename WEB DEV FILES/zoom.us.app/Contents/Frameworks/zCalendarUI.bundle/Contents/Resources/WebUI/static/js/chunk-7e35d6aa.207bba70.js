(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e35d6aa"],{"00b8":function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.staticRenderFns=a.render=void 0;var t=function(){var e=this,a=e._self._c;return a("zm-dialog",{staticClass:"share-people-view",attrs:{"custom-class":"client-dialog",visible:e.dialogVisible,"close-on-click-modal":!0,"close-on-press-escape":!0,"append-to-body":!0,width:"45%"},on:{"update:visible":function(a){e.dialogVisible=a}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(" Add people to this calendar "),a("div",{staticClass:"options-preface"},[e._v(e._s(e.calendarDisplayName)+" Calendar")])]),a("div",{staticClass:"setting-part"},[a("contact-select",{ref:"contactSelect",attrs:{clearValAfterSelected:!1,placeholder:"Email or name"},on:{selectContactVal:e.handleSelectContactVal}}),a("zm-tag",{directives:[{name:"show",rawName:"v-show",value:e.selectEmail.length,expression:"selectEmail.length"}],staticClass:"select-user",attrs:{type:"info"}},[e._v(" "+e._s(e.displayName||e.selectEmail)+" ")]),a("zm-select",{attrs:{placeholder:"",label:"","list-label":"","default-first-option":""},model:{value:e.permissionVal,callback:function(a){e.permissionVal=a},expression:"permissionVal"}},e._l(e.permissionOptions,(function(e){return a("zm-option",{key:e.value,attrs:{label:e.value,value:e.key}})})),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("zm-button",{attrs:{focusFirst:"",type:"primary",loading:e.loading},on:{click:e.saveSharePeople}},[e._v("Add")]),a("zm-button",{staticClass:"dialog-cancel-btn",attrs:{plain:""},on:{click:function(a){e.dialogVisible=!1}}},[e._v("Cancel")])],1)])};a.render=t;var i=[];a.staticRenderFns=i},"0660":function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t={name:"DeleteCalendarDialog",props:{innerVisible:{type:Boolean,default:!1},calendarName:{type:String,default:""}},computed:{dialogVisible:{set(){this.$emit("hideDialog")},get(){return this.innerVisible}}},data(){return{loading:!1}},methods:{deleteCalendar(){this.$emit("deleteCalendar")},cancelDeleteDialog(){this.dialogVisible=!1,this.$emit("cancelDeleteDialog")}}};a.default=t},"0ac2":function(e,a,t){"use strict";t.r(a);var i=t("6441"),n=t("74c5");for(var l in n)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(l);t("a10e");var s=t("2877"),o=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);a["default"]=o.exports},"0f73":function(e,a,t){"use strict";t.r(a);var i=t("6598"),n=t.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(l);a["default"]=n.a},"13aa":function(e,a,t){"use strict";t.r(a);var i=t("5b7c"),n=t("8c9d");for(var l in n)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(l);t("dc12");var s=t("2877"),o=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);a["default"]=o.exports},"14d1":function(e,a,t){"use strict";t.r(a);var i=t("615a"),n=t.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(l);a["default"]=n.a},1743:function(e,a,t){var i=t("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14d9");var n=t("aa2a"),l=i(t("0ac2")),s={components:{TimeSelect:l.default},name:"NotificationGroup",props:{disabled:{type:Boolean,default:!1},defaultReminders:{type:Array,require:!0},isAllDayType:{type:Boolean,default:!1}},watch:{defaultReminders(){this.transformReminder(this.defaultReminders)}},computed:{timeFormat(){return this.commonState.calendarSettings.format24HourTime?"HH:mm":"hh:mma"}},data(){return{commonState:this.$store.state,reminders:[],defaultEmail:{method:"email",value:10,unit:"minutes"},defaultAllDayEmail:{method:"email",value:1,unit:"days",beforeVal:540},maxVal:{minutes:60,hours:12,days:7,weeks:4},methodOptions:[{key:"popup",value:"Notification"},{key:"email",value:"Email"}],unitOptions:[{key:"minutes",value:"minutes"},{key:"hours",value:"hours"},{key:"days",value:"days"},{key:"weeks",value:"weeks"}],allDayOption:[{key:"days",value:"days"},{key:"weeks",value:"weeks"}],differentOptions:{minutes:[5,10,15,20,25,30,35,40,45,50,55,60],hours:[1,2,3,4,5,6,7,8,9,10,11,12],days:[0,1,2,3,4,5,6,7],weeks:[1,2,3,4]}}},mounted(){this.transformReminder(this.defaultReminders),this.updateSetting(!1)},methods:{isValidValue(e,a,t){e>a&&(this.reminders[t].value=1),this.updateSetting()},transformReminder(e){if(e&&e.length){const a=e.map(e=>{const a=(0,n.minutesTransformTimeUnit)(e.minutes,this.isAllDayType);return a.method="email",a});this.reminders=a}else this.reminders=[]},addNotification(){this.isAllDayType?this.reminders.push(this.defaultAllDayEmail):this.reminders.push(this.defaultEmail),this.$nextTick(()=>{this.updateSetting()})},updateSetting(e=!0){const a=this.reminders.map(e=>{const a=this.isAllDayType?(0,n.transform2minutesAllDayType)(e.value,e.unit,e.beforeVal):(0,n.transform2minutes)(e.value,e.unit);return{method:e.method,minutes:a}});this.$emit("updateSetting",a,e)},deleteReminder(e){this.reminders.splice(e,1),this.updateSetting()}}};a.default=s},"176a":function(e,a,t){"use strict";t.r(a);var i=t("42c0"),n=t("0f73");for(var l in n)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(l);t("76df");var s=t("2877"),o=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);a["default"]=o.exports},"1e53":function(e,a,t){"use strict";var i=t("ad3b");t.o(i,"render")&&t.d(a,"render",(function(){return i["render"]})),t.o(i,"staticRenderFns")&&t.d(a,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"27ad":function(e,a,t){},"2ff8":function(e,a,t){},"3a78":function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.staticRenderFns=a.render=void 0;var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"time-select-view"},[a("zm-select",{attrs:{filterable:"","allow-create":e.allowCreate,autocorrect:"off",spellcheck:"false","default-first-option":"",placeholder:e.placeholder,label:e.placeholder,id:"create-select",disabled:e.disabled},on:{change:e.selectChanged},model:{value:e.zmSelectValue,callback:function(a){e.zmSelectValue=a},expression:"zmSelectValue"}},e._l(e.options,(function(t){return a("zm-option",{key:e.placeholder+t.value,attrs:{label:t.label,value:t.value}})})),1)],1)};a.render=t;var i=[];a.staticRenderFns=i},"42c0":function(e,a,t){"use strict";var i=t("00b8");t.o(i,"render")&&t.d(a,"render",(function(){return i["render"]})),t.o(i,"staticRenderFns")&&t.d(a,"staticRenderFns",(function(){return i["staticRenderFns"]}))},4849:function(e,a,t){"use strict";var i=t("e6ad");t.o(i,"render")&&t.d(a,"render",(function(){return i["render"]})),t.o(i,"staticRenderFns")&&t.d(a,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"5b7c":function(e,a,t){"use strict";var i=t("c443");t.o(i,"render")&&t.d(a,"render",(function(){return i["render"]})),t.o(i,"staticRenderFns")&&t.d(a,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"615a":function(e,a,t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=t("aa2a"),n={name:"ContactSelect",data(){return{inputName:"",loading:!1,invalidInputVal:!1,contacts:[],arr:[]}},props:{disabled:{type:Boolean,default:!1},popperClass:{type:String,default:"contact-select basic-font"},popperAppendToBody:{type:Boolean,default:!0},clearValAfterSelected:{type:Boolean,default:!0},placeholder:{type:String,default:""},noBorder:{type:Boolean,default:!1}},methods:{handleBlur(){this.clearValAfterSelected&&(this.inputName=""),0===this.inputName.length&&(this.invalidInputVal=!1)},handleChange(e){this.handleContactSelect(e)},searchContactRequest(e,a){window.zoomSdk.postJsMessage({functionName:"calendarui_searchcontacts",params:{searchKey:e}}).then(e=>{a&&a(e)}).catch(e=>{this.$errorMessage(e),window.zoomLog("INFO","get contact error",e)})},remoteMethod(e){this.loading=!0,""!==e?(0,i.throttle)(this.searchContactRequest(e,e=>{e.contacts&&e.contacts.length?this.contacts=e.contacts:this.contacts=[],this.loading=!1}),500):(this.contacts=[],this.loading=!1)},handleContactSelect(e){if((0,i.isEmail)(e.email)){let a;this.invalidInputVal=!1,e.isExternal?a={jid:0,email:e.email,calendarId:e.email,displayName:e.displayName,type:"attendee",newCreated:!1,summaryOverride:e}:(a=e,a.type="attendee",a.calendarId=e.email,a.newCreated=!1),this.clearValAfterSelected&&(this.inputName=""),this.$emit("selectContactVal",a)}else window.zoomLog("INFO","invaild contact input"),this.invalidInputVal=!0}}};a.default=n},6441:function(e,a,t){"use strict";var i=t("3a78");t.o(i,"render")&&t.d(a,"render",(function(){return i["render"]})),t.o(i,"staticRenderFns")&&t.d(a,"staticRenderFns",(function(){return i["staticRenderFns"]}))},6598:function(e,a,t){var i=t("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(t("894d")),l={name:"SharePeopleDialog",components:{ContactSelect:n.default},props:{innerVisible:{type:Boolean,default:!1},calendarId:{type:String,require:!0},calendarDisplayName:{type:String,default:""}},computed:{dialogVisible:{set(){this.$emit("hideDialog")},get(){return this.innerVisible}}},data(){return{commonState:this.$store.state,permissionVal:"freeBusyReader",permissionOptions:[{key:"freeBusyReader",value:"Only view if you are free or busy (Limited)"},{key:"reader",value:"View event name and details (Read Only)"},{key:"writer",value:"Make changes to events (Editor)"},{key:"owner",value:"Manage sharing permissions (Admin)"}],selectEmail:"",displayName:"",selectRole:"user",loading:!1}},methods:{checkValue(){return!!this.permissionVal&&!(!this.selectEmail&&!this.$refs.contactSelect.inputName)},saveSharePeople(){this.checkValue()&&(this.loading=!0,window.zoomSdk.postJsMessage({functionName:"calendarui_insertaclrule",params:{calendarId:this.calendarId,aclRule:{scopeType:this.selectRole,scopeValue:this.selectEmail,role:this.permissionVal}}}).then(()=>{this.loading=!1,this.$emit("addPeople"),this.$emit("hideDialog")}).catch(e=>{this.loading=!1,window.zoomLog("INFO","error",e)}))},handleSelectContactVal(e){this.selectRole=e.isGroup?"group":"user",this.selectEmail=e.email,this.displayName=e.displayName}}};a.default=l},"6e1e":function(e,a,t){"use strict";t.r(a);var i=t("0660"),n=t.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(l);a["default"]=n.a},"74c5":function(e,a,t){"use strict";t.r(a);var i=t("e634"),n=t.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(l);a["default"]=n.a},"76df":function(e,a,t){"use strict";t("f6df")},"77b6":function(e,a,t){"use strict";t.r(a);var i=t("ee3b"),n=t.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(l);a["default"]=n.a},"85cf":function(e,a,t){"use strict";t("27ad")},"894d":function(e,a,t){"use strict";t.r(a);var i=t("1e53"),n=t("14d1");for(var l in n)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(l);t("85cf");var s=t("2877"),o=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);a["default"]=o.exports},"8c9d":function(e,a,t){"use strict";t.r(a);var i=t("1743"),n=t.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(l);a["default"]=n.a},"8e3f":function(e,a,t){"use strict";t("2ff8")},"924d":function(e,a,t){"use strict";t.r(a);var i=t("4849"),n=t("77b6");for(var l in n)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(l);t("8e3f");var s=t("2877"),o=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);a["default"]=o.exports},"9ff7":function(e,a,t){"use strict";var i=t("e9e4");t.o(i,"render")&&t.d(a,"render",(function(){return i["render"]})),t.o(i,"staticRenderFns")&&t.d(a,"staticRenderFns",(function(){return i["staticRenderFns"]}))},a10e:function(e,a,t){"use strict";t("a9ce")},a208:function(e,a,t){},a9ce:function(e,a,t){},ad3b:function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.staticRenderFns=a.render=void 0;var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"calendar-search"},[a("client-search",{attrs:{noBorder:e.noBorder,placeholder:e.placeholder,showReceipts:!1},on:{change:e.handleChange},model:{value:e.arr,callback:function(a){e.arr=a},expression:"arr"}})],1)};a.render=t;var i=[];a.staticRenderFns=i},b070:function(e,a,t){"use strict";t("c06e")},bfb0:function(e,a,t){"use strict";t.r(a);var i=t("9ff7"),n=t("6e1e");for(var l in n)["default"].indexOf(l)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(l);t("b070");var s=t("2877"),o=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);a["default"]=o.exports},c06e:function(e,a,t){},c443:function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.staticRenderFns=a.render=void 0;var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"notification-group-view"},e._l(e.reminders,(function(t,i){return a("div",{key:"reminder"+i,staticClass:"notification-item"},[a("zm-select",{attrs:{placeholder:"Please Select",label:"","list-label":"","default-first-option":"",disabled:""},on:{change:e.updateSetting},model:{value:t.method,callback:function(a){e.$set(t,"method",a)},expression:"item.method"}},e._l(e.methodOptions,(function(e){return a("zm-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1),a("zm-select",{staticClass:"number-select",attrs:{"width-limit":"",filterable:"","allow-create":"","default-first-option":"",placeholder:"","label-by":"number list","list-label":"number list",disabled:e.disabled},on:{change:function(a){return e.isValidValue(t.value,e.maxVal[t.unit],i)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(e.differentOptions[t.unit],(function(e){return a("zm-option",{key:"numberOption"+e,attrs:{label:e,value:e}})})),1),e.isAllDayType?a("zm-select",{attrs:{placeholder:"Please Select",label:"","list-label":"","default-first-option":"",disabled:e.disabled},on:{change:function(a){return e.isValidValue(t.value,e.maxVal[t.unit],i)}},model:{value:t.unit,callback:function(a){e.$set(t,"unit",a)},expression:"item.unit"}},e._l(e.allDayOption,(function(e){return a("zm-option",{key:e.key,attrs:{label:e.value,value:e.value}})})),1):a("zm-select",{staticClass:"unit-select",attrs:{placeholder:"Please Select",label:"","list-label":"","default-first-option":"",disabled:e.disabled},on:{change:function(a){return e.isValidValue(t.value,e.maxVal[t.unit],i)}},model:{value:t.unit,callback:function(a){e.$set(t,"unit",a)},expression:"item.unit"}},e._l(e.unitOptions,(function(e){return a("zm-option",{key:e.key,attrs:{label:e.value,value:e.value}})})),1),e.isAllDayType?a("p",{staticClass:"select-label"},[e._v("before at")]):e._e(),e.isAllDayType?a("time-select",{staticClass:"before-time",attrs:{format:e.timeFormat,disabled:e.disabled},on:{change:e.updateSetting},model:{value:t.beforeVal,callback:function(a){e.$set(t,"beforeVal",a)},expression:"item.beforeVal"}}):e._e(),e.disabled?e._e():a("i",{staticClass:"zm-icon-close",attrs:{"aria-label":"Close",role:"Button",tabindex:"0"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.deleteReminder(i)},click:function(a){return e.deleteReminder(i)}}})],1)})),0)};a.render=t;var i=[];a.staticRenderFns=i},dc12:function(e,a,t){"use strict";t("a208")},e634:function(e,a,t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14d9");var i={name:"TimeSelect",props:{disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"select time"},pickerOptions:{type:Object,default:()=>({start:"00:00",end:"23:59",step:"00:30",minTime:"00:00"})},value:[Date,String,Number],format:{type:String,default:"HH:mm"},allowCreate:{type:Boolean,default:!0}},data(){return{zmSelectValue:this.convertTime(this.value),AmPmOption:[{label:" am",value:" am"},{label:" pm",value:" pm"}]}},watch:{value:{handler(e){if(0!==e.length){const a=this.convertTime(e,!0),t="24"===this.optionFormat?a:this.convertVal12hour(a);this.zmSelectValue=a,this.options.some(a=>a.value===e)||this.options.push({label:t,value:a})}},immediate:!0}},computed:{defaultValue(){return"HH:mm"===this.format?"09:00":"9:00"},optionFormat(){return"HH:mm"===this.format?"24":"12"},startTimeVal(){return this.convertTimeForm(this.pickerOptions.minTime?this.pickerOptions.minTime:this.pickerOptions.start)},endTimeVal(){return this.convertTimeForm(this.pickerOptions.end)},stepVal(){return this.convertTimeForm(this.pickerOptions.step)},options(){let e=this.startTimeVal;const a=this.endTimeVal,t=[];while(e<=a){const a=this.reconvertTimeForm(e),i="24"===this.optionFormat?a:this.reconvertTimeForm12(e);t.push({label:i,value:"number"===typeof this.value?e:a}),e+=this.stepVal}return t}},methods:{getNearestTime(e,a){return!(!e||!a)&&(e.replace(/:.*/,"")===a.replace(/:.*/,"")&&Number(a.replace(":",""))>Number(e.replace(":","")))},convertTime(e,a=!1){let t=e;if("undefined"===typeof t)return this.defaultValue;if("number"===typeof t&&(t="HH:mm"===this.format?this.reconvertTimeForm(t):this.reconvertTimeForm12(t)),"hh:mma"===this.format&&this.options){for(let e=0;e<this.options.length;e++)if(this.options[e].value===t)return t;t=a?t:this.convertVal12hour(t)}return t},selectChanged(e){const a=this.convertTimeForm(e);if(!a&&0!==a)return this.zmSelectValue=this.value,void window.zoomLog("INFO","time select input illegal");let t="number"===typeof e?a:e;a<this.startTimeVal&&(t=this.reconvertTimeForm(this.startTimeVal),"number"===typeof e&&(t=this.convertTimeForm(t)));const i=this.convert12hourTo24hour(t);this.$emit("input",i),this.$emit("change",i)},convert12hourTo24hour(e){let a=e;const t=/^(\d{1,2}):(\d{2})(am|pm| am| pm)$/;if(t.test(a)){const e=a.match(t);let i=parseInt(e[1]);const n=("0"+parseInt(e[2])).slice(-2);"pm"!==e[3]&&" pm"!==e[3]||12!==i&&(i+=12),i.length<2&&(i="0"+i),a=i+":"+n}return a},convertVal12hour(e){const a=/^\d{2}:\d{2}$/,t=/^(\d{1,2}):(\d{2})(am|pm| am| pm)$/;if(t.test(e))return e;if(!a.test(e))return void window.zoomLog("INFO","wrong input");const i=e.split(":");if(0===parseInt(i[0]))return`12:${i[1]} am`;if(parseInt(i[0])<12)return`${parseInt(i[0])}:${i[1]} am`;if(12===parseInt(i[0]))return`12:${i[1]} pm`;const n=i[0]-12;return`${n}:${i[1]} pm`},convertTimeForm(e){if("number"===typeof e)return e;const a=/^(\d{1,2}):(\d{2})(am|pm| am| pm)$/,t=/^\d{2}:\d{2}$/;let i,n;if(a.test(e)){const t=e.match(a);i=parseInt(t[1]),n=("0"+parseInt(t[2])).slice(-2),"pm"!==t[3]&&" pm"!==t[3]||12!==i&&(i+=12)}if(t.test(e)){const a=e.split(":").map(e=>parseInt(e));i=a[0],n=a[1]}if("undefined"!==typeof i&&i>=0&&i<=24&&n>=0&&n<60){let e=60*i+n;const a=1440;return e>=a&&(e=a),e}},reconvertTimeForm(e){let a=parseInt(e/60).toString(),t=(e%60).toString();return a=a.length<2?"0"+a:a,t=t.length<2?"0"+t:t,a+":"+t},reconvertTimeForm12(e){let a=parseInt(e/60).toString(),t=(e%60).toString();return t=t.length<2?"0"+t:t,0===parseInt(a)||24===parseInt(a)?(a=12,`${a}:${t} am`):parseInt(a)<12?`${a}:${t} am`:12===parseInt(a)?`12:${t} pm`:(a=parseInt(a)-12,`${a}:${t} pm`)}}};a.default=i},e6ad:function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.staticRenderFns=a.render=void 0;var t=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}],staticClass:"calendars-panel-view",attrs:{body:""}},[a("div",{staticClass:"option-item calendar-detail"},[a("div",{staticClass:"options-title"},[e._v(" "+e._s(e.calendarDetail.displayName)+" Calendar "),a("div",{staticClass:"options-preface"},[e._v(e._s(e.calendarDetail.calendarId))])]),a("div",{staticClass:"advance-option"},[a("div",{staticClass:"options-label"},[e._v("Calendar Name")]),a("zm-input",{staticClass:"options-field",attrs:{placeholder:e.$t("createSettingNamePlaceholder"),size:"small",clearable:"",disabled:!e.commonState.zoomCalendarType},on:{blur:e.changeCalendarDetail},model:{value:e.calendarDetail.displayName,callback:function(a){e.$set(e.calendarDetail,"displayName",a)},expression:"calendarDetail.displayName"}})],1),a("div",{staticClass:"advance-option"},[a("div",{staticClass:"options-label"},[e._v("Calendar Description")]),a("zm-input",{staticClass:"options-field",attrs:{type:"textarea",rows:3,placeholder:"Enter a description for your calendar...",size:"small",clearable:"",disabled:!e.commonState.zoomCalendarType},on:{blur:e.changeCalendarDetail},model:{value:e.calendarDetail.description,callback:function(a){e.$set(e.calendarDetail,"description",a)},expression:"calendarDetail.description"}})],1),a("p",{staticClass:"option-hairline"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMyCalendarContent,expression:"showMyCalendarContent"}],staticClass:"option-item"},[a("p",{staticClass:"options-label"},[e._v("Permissions")]),a("ul",{staticClass:"notification-list"},[e._l(e.sharePeopleList,(function(t,i){return a("li",{key:"sharePeopleList"+i},[a("div",{staticClass:"cell-title width-200",style:{width:t.scopeValue===e.calendarInfo.calendarId?"100%":""}},[t.picUrl?a("img",{staticClass:"cell-avatar",attrs:{src:t.picUrl?t.picUrl:""}}):a("i",{staticClass:"zm-icon-user cell-avatar"}),a("span",[e._v(e._s(t.scopeValue))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.scopeValue===e.calendarInfo.calendarId,expression:"item.scopeValue === calendarInfo.calendarId"}]},[e._v(" (You)")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.scopeValue===e.calendarInfo.calendarId,expression:"item.scopeValue === calendarInfo.calendarId"}],staticClass:"cell-value"},[e._v("Owner")])]),t.scopeValue!==e.calendarInfo.calendarId?a("div",{staticClass:"sharePeopleManage"},[a("zm-select",{attrs:{disabled:t.disabled||!e.commonState.zoomCalendarType,placeholder:"Please Select",label:"","list-label":"","default-first-option":""},on:{change:function(a){return e.patchSharePeoplePermission(t)}},model:{value:t.role,callback:function(a){e.$set(t,"role",a)},expression:"item.role"}},e._l(e.permissionOptions,(function(e){return a("zm-option",{key:e.value,attrs:{label:e.value,value:e.key}})})),1),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&e.commonState.zoomCalendarType,expression:"!item.disabled && commonState.zoomCalendarType"}],staticClass:"zm-icon-close",on:{click:function(a){return e.deleteSharePeople(t.ruleId)}}})],1):e._e()])})),2===e.commonState.userLevel?a("li",[a("div",{staticClass:"delegate-option"},[a("div",{staticClass:"cell-title width-200"},[a("zm-checkbox",{attrs:{disabled:e.available2PublicVal||!e.commonState.zoomCalendarType},on:{change:function(a){return e.changeEventsPermission("company")}},model:{value:e.available2CompanyVal,callback:function(a){e.available2CompanyVal=a},expression:"available2CompanyVal"}},[e._v("People at your company")])],1),a("div",{staticClass:"sharePeopleManage"},[a("zm-select",{staticClass:"basic-font",attrs:{size:"small",label:e.$t("calendarPanelAvailable2Company"),"list-label":e.$t("calendarPanelAvailable2Company"),disabled:!e.available2CompanyVal||e.available2PublicVal||!e.commonState.zoomCalendarType,"popper-class":"basic-font"},on:{change:function(a){return e.patchEventsPermission("company")}},model:{value:e.available2CompanyAclRule.role,callback:function(a){e.$set(e.available2CompanyAclRule,"role",a)},expression:"available2CompanyAclRule.role"}},e._l(e.available2CompanyOptions,(function(e){return a("zm-option",{key:e.key,attrs:{label:e.value,value:e.key,disabled:e.disabled}})})),1)],1)])]):e._e(),a("li",[a("div",{staticClass:"delegate-option"},[a("zm-checkbox",{staticClass:"cell-title width-200",attrs:{disabled:!e.commonState.zoomCalendarType},on:{change:function(a){return e.changeEventsPermission("public")}},model:{value:e.available2PublicVal,callback:function(a){e.available2PublicVal=a},expression:"available2PublicVal"}},[e._v("Anyone else")]),a("div",{staticClass:"sharePeopleManage"},[a("zm-select",{staticClass:"basic-font",attrs:{size:"small",label:e.$t("calendarPanelAvailable2Public"),"list-label":e.$t("calendarPanelAvailable2Public"),disabled:!e.commonState.zoomCalendarType||!e.available2PublicVal||!e.commonState.zoomCalendarType,"popper-class":"basic-font"},on:{change:function(a){return e.patchEventsPermission("public")}},model:{value:e.available2PublicAclRule.role,callback:function(a){e.$set(e.available2PublicAclRule,"role",a)},expression:"available2PublicAclRule.role"}},e._l(e.available2PublicOptions,(function(e){return a("zm-option",{key:e.key,attrs:{label:e.value,value:e.key,disabled:e.disabled}})})),1)],1)],1)])],2),a("zm-button",{staticClass:"add-btn",attrs:{ghost:"",type:"primary",icon:"zm-icon-add",disabled:!e.commonState.zoomCalendarType},on:{click:function(a){e.showSharePeopleDialog=!0}}},[e._v("Add")]),a("p",{staticClass:"option-hairline"})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"freeBusyReader"!==this.calendarInfo.accessRole,expression:"this.calendarInfo.accessRole !== 'freeBusyReader'"}],staticClass:"option-item"},[a("p",{staticClass:"options-label"},[e._v(e._s(e.$t("calendarPanelNotificationTitle")))]),a("p",{staticClass:"notification-description"},[e._v(e._s(e.$t("calendarPanelNotificationDes")))]),a("notification-group",{ref:"notificationGroup",attrs:{defaultReminders:e.calendarInfo.defaultReminders,disabled:!e.commonState.zoomCalendarType},on:{updateSetting:function(a){return e.updateNotification(arguments,"defaultReminders")}}}),a("zm-button",{directives:[{name:"show",rawName:"v-show",value:e.calendarInfo.defaultReminders&&e.calendarInfo.defaultReminders.length<5,expression:"calendarInfo.defaultReminders && (calendarInfo.defaultReminders.length < 5)"}],staticClass:"add-btn",attrs:{ghost:"",type:"primary",icon:"zm-icon-add",disabled:!e.commonState.zoomCalendarType},on:{click:function(a){return e.addNotification("notificationGroup")}}},[e._v("Add")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"freeBusyReader"!==this.calendarInfo.accessRole,expression:"this.calendarInfo.accessRole !== 'freeBusyReader'"}],staticClass:"option-item"},[a("p",{staticClass:"options-label"},[e._v(e._s(e.$t("calendarPanelAllDayNotificationTitle")))]),a("p",{staticClass:"notification-description"},[e._v(e._s(e.$t("calendarPanelAllDayNotificationDes")))]),a("notification-group",{ref:"allDayNotificationGroup",attrs:{defaultReminders:e.calendarInfo.defaultAllDayReminders,isAllDayType:!0,disabled:!e.commonState.zoomCalendarType},on:{updateSetting:function(a){return e.updateNotification(arguments,"defaultAllDayReminders")}}}),a("zm-button",{directives:[{name:"show",rawName:"v-show",value:e.calendarInfo.defaultAllDayReminders&&e.calendarInfo.defaultAllDayReminders.length<5,expression:"calendarInfo.defaultAllDayReminders && (calendarInfo.defaultAllDayReminders.length < 5)"}],staticClass:"add-btn",attrs:{ghost:"",type:"primary",icon:"zm-icon-add",disabled:!e.commonState.zoomCalendarType},on:{click:function(a){return e.addNotification("allDayNotificationGroup")}}},[e._v("Add")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"freeBusyReader"!==this.calendarInfo.accessRole,expression:"this.calendarInfo.accessRole !== 'freeBusyReader'"}],staticClass:"option-item"},[a("p",{staticClass:"options-label"},[e._v(e._s(e.$t("calendarPanelOtherNotificationTitle")))]),a("p",{staticClass:"notification-description"},[e._v(e._s(e.$t("calendarPanelOtherNotificationDes")))]),a("ul",{staticClass:"notification-list"},e._l(e.otherNotificationSetting,(function(t,i){return a("li",{key:"otherNotification"+i},[a("zm-checkbox",{key:e.otherNotificationOptions[0].value,attrs:{id:"other-notification-options"+i,value:e.otherNotificationOptions[0].value,label:e.otherNotificationOptions[0].key},on:{change:function(a){return e.otherNotificationChange(t.type,t.value)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"notificationSetting.value"}},[e._v(" "+e._s(e.otherNotificationTitle[t.type])+" ")])],1)})),0),a("p",{staticClass:"option-hairline"})]),!0===e.showSharePeopleDialog?a("share-people-dialog",{attrs:{innerVisible:e.showSharePeopleDialog,calendarId:e.calendarInfo.calendarId,calendarDisplayName:e.calendarDetail.displayName},on:{addPeople:e.getAclruleList,hideDialog:function(a){e.showSharePeopleDialog=!1}}}):e._e(),!0===e.showDeleteCalendarDialog?a("delete-calendar-dialog",{attrs:{innerVisible:e.showDeleteCalendarDialog,calendarName:e.calendarDetail.displayName},on:{deleteCalendar:e.deleteCalendar,cancelDeleteDialog:e.cancelDeleteDialog,hideDialog:function(a){e.showDeleteCalendarDialog=!1}}}):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.calendarInfo.calendarId!==e.commonState.currentUser.calendarId,expression:"calendarInfo.calendarId !== commonState.currentUser.calendarId"}],staticClass:"delete-btn"},[a("zm-button",{class:[e.canDelete?"btn-delete":"btn-unsubscribe"],attrs:{ghost:!e.canDelete,loading:e.deleteBtnLoading,disabled:!e.commonState.zoomCalendarType},on:{click:e.handleDeleteUnsubscribe}},[e._v(" "+e._s(e.canDelete?e.$t("calendarPanelDelete"):e.$t("calendarPanelUnsubscribe"))+" ")]),e.canDelete?e._e():a("span",[e._v("from this calendar ")])],1)],1)};a.render=t;var i=[];a.staticRenderFns=i},e9e4:function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.staticRenderFns=a.render=void 0;var t=function(){var e=this,a=e._self._c;return a("zm-dialog",{staticClass:"delete-calendar-view",attrs:{"custom-class":"client-dialog",visible:e.dialogVisible,"close-on-click-modal":!0,"close-on-press-escape":!0,"append-to-body":!0,width:"45%"},on:{"update:visible":function(a){e.dialogVisible=a}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(' Delete "'+e._s(e.calendarName)+'"? '),a("p",{staticClass:"dialog-description"},[e._v(" This will permanently delete all events in this calendar, for you and all invitees. ")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("zm-button",{staticClass:"delete-button",attrs:{focusFirst:"",type:"primary",loading:e.loading},on:{click:e.deleteCalendar}},[e._v("Yes, Delete")]),a("zm-button",{staticClass:"dialog-cancel-btn",attrs:{plain:""},on:{click:e.cancelDeleteDialog}},[e._v("Cancel")])],1)])};a.render=t;var i=[];a.staticRenderFns=i},ee3b:function(e,a,t){var i=t("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14d9");var n=i(t("13aa")),l=i(t("176a")),s=i(t("bfb0")),o=t("aa2a"),r={name:"CalendarsPanel",components:{SharePeopleDialog:l.default,NotificationGroup:n.default,DeleteCalendarDialog:s.default},data(){return{commonState:this.$store.state,calendarInfo:{},available2PublicOptions:[{key:"freeBusyReader",value:"Only view if you are free or busy (Limited)"},{key:"reader",value:"View event name and details (Read Only)",disabled:!0}],available2PublicAclRule:{},available2PublicVal:!1,available2CompanyOptions:[{key:"freeBusyReader",value:"Only view if you are free or busy (Limited)"},{key:"reader",value:"View event name and details (Read Only)"},{key:"writer",value:"Make changes to events (Editor)",disabled:!0},{key:"owner",value:"Manage sharing permissions (Admin)",disabled:!0}],available2CompanyAclRule:{},available2CompanyVal:!1,showCalendarInfoInOtherApps:!1,showSharePeopleDialog:!1,showDeleteCalendarDialog:!1,sharePeopleList:[],permissionOptions:[{key:"freeBusyReader",value:"Only view if you are free or busy (Limited)"},{key:"reader",value:"View event name and details (Read Only)"},{key:"writer",value:"Make changes to events (Editor)"},{key:"owner",value:"Manage sharing permissions (Admin)"}],otherNotificationSetting:[],otherNotificationTitle:{eventCreation:this.$t("calendarPanelNotificationNewTitle"),eventChange:this.$t("calendarPanelNotificationChangeTitle"),eventCancellation:this.$t("calendarPanelNotificationCancelTitle"),eventResponse:this.$t("calendarPanelNotificationResponseTitle"),agenda:"Daily summary of events"},otherNotificationDes:{eventCreation:this.$t("calendarPanelNotificationNewDes"),eventChange:this.$t("calendarPanelNotificationChangeDes"),eventCancellation:this.$t("calendarPanelNotificationCancelDes"),eventResponse:this.$t("calendarPanelNotificationResponseDes"),agenda:this.$t("calendarPanelNotificationAgendaDes")},otherNotificationOptions:[{key:this.$t("calendarPanelNotifyTypeEmail"),value:!0},{key:this.$t("calendarPanelNotifyTypeNone"),value:!1}],reminders:[{method:"popup",minutes:10}],canDelete:!1,deleteBtnLoading:!1,calendarDetail:{},showMyCalendarContent:!0,showLoading:!1}},created(){this.init()},mounted(){this.$bus.$on("refreshAclRules",this.getAclruleList)},beforeDestroy(){this.$bus.$off("refreshAclRules",this.getAclruleList)},watch:{$route(){this.init()}},methods:{init(){this.showLoading=!0;const e=this.$route.query&&this.$route.query.calendarId,a=this.$route.query&&this.$route.query.type;this.available2PublicVal=!1,this.available2CompanyVal=!1,this.available2PublicAclRule.role="freeBusyReader",this.available2CompanyAclRule.role="freeBusyReader",this.showMyCalendarContent="myCalendar"===a,this.commonState.allCalendars[a]&&e&&(this.calendarInfo=this.commonState.allCalendars[a].get(e)||{},this.getCalendarDetail(),this.getAclruleList(),this.judgeDeleteOrUnsubscribe(),this.initOtherNotification())},initOtherNotification(){const e={};for(const a of Object.keys(this.otherNotificationTitle))e[a]={type:a,method:"none",value:!1};this.calendarInfo.notificationSettings&&this.calendarInfo.notificationSettings.map(a=>{e[a.type]={type:a.type,method:a.method,value:"email"===a.method}}),this.otherNotificationSetting=Array.from(Object.values(e))},getEventsPermissionParam(e){const a={};if("public"===e)a.checkVal=this.available2PublicVal,this.available2PublicAclRule.role||(this.available2PublicAclRule.role="freeBusyReader"),a.params={scopeType:"default",scopeValue:"",role:this.available2PublicAclRule.role,ruleId:this.available2PublicAclRule.ruleId};else if("company"===e){const{webDomain:e}=this.commonState.currentUser;a.checkVal=this.available2CompanyVal,this.available2CompanyAclRule.role||(this.available2CompanyAclRule.role="reader"),a.params={scopeType:"domain",scopeValue:e,role:this.available2CompanyAclRule.role,ruleId:this.available2CompanyAclRule.ruleId}}return a},changeEventsPermission(e){const a=this.getEventsPermissionParam(e);this.available2PublicVal&&!this.available2CompanyVal&&(this.available2CompanyVal=!0,this.changeEventsPermission("company")),a.checkVal?(delete a.params.ruleId,window.zoomSdk.postJsMessage({functionName:"calendarui_insertaclrule",params:{calendarId:this.calendarInfo.calendarId,aclRule:a.params}}).then(()=>{this.getAclruleList()}).catch(()=>{})):window.zoomSdk.postJsMessage({functionName:"calendarui_deleteaclrule",params:{calendarId:this.calendarInfo.calendarId,ruleId:a.params.ruleId}}).then(()=>{this.getAclruleList()}).catch(()=>{})},patchEventsPermission(e){const a=this.getEventsPermissionParam(e);window.zoomSdk.postJsMessage({functionName:"calendarui_patchaclrule",params:{calendarId:this.calendarInfo.calendarId,aclRule:a.params}}).then(()=>{}).catch(()=>{})},changeCalendarDetail(){window.zoomSdk.postJsMessage({functionName:"calendarui_patchcalendar",params:this.calendarDetail}).then(()=>{window.zoomLog("INFO","patch calendar"),this.$notify.closeAll(),this.$notify({title:this.$t("zmUINotifySuccess"),message:"Your changes have been saved",type:"success"}),this.$emit("refreshCalendarList")}).catch(e=>{window.zoomLog("INFO","patch calendar failed",e)})},getCalendarDetail(){window.zoomSdk.postJsMessage({functionName:"calendarui_getcalendar",params:{calendarId:this.calendarInfo.calendarId}}).then(e=>{this.showLoading=!1,this.calendarDetail=e.calendar}).catch(e=>{window.zoomLog("INFO","error",e),this.showLoading=!1})},handleDeleteUnsubscribe(){this.deleteBtnLoading=!0,this.canDelete?this.showDeleteCalendarDialog=!0:this.deleteCalendar()},deleteCalendar(){this.canDelete?window.zoomSdk.postJsMessage({functionName:"calendarui_deletecalendar",params:{calendarId:this.calendarInfo.calendarId}}).then(()=>{this.$emit("refreshAndReturn"),this.deleteBtnLoading=!1,this.showDeleteCalendarDialog=!1,this.$notify({title:this.$t("zmUINotifySuccess"),message:"Deleted",type:"success"}),this.$emit("backToGeneral")}).catch(e=>{window.zoomLog("INFO","error",e),this.deleteBtnLoading=!1,this.showDeleteCalendarDialog=!1}):window.zoomSdk.postJsMessage({functionName:"calendarui_deletecalendarlist",params:{calendarId:this.calendarInfo.calendarId}}).then(()=>{this.$emit("refreshAndReturn"),this.deleteBtnLoading=!1,this.showDeleteCalendarDialog=!1,this.$emit("backToGeneral")}).catch(e=>{window.zoomLog("INFO","error",e),this.deleteBtnLoading=!1,this.showDeleteCalendarDialog=!1})},cancelDeleteDialog(){this.deleteBtnLoading=!1},judgeDeleteOrUnsubscribe(){"owner"===this.calendarInfo.accessRole&&(0,o.isAddedCalender)(this.calendarInfo.calendarId)?this.canDelete=!0:this.canDelete=!1},otherNotificationChange(e,a){this.calendarInfo.notificationSettings=this.otherNotificationSetting.map(t=>(t.type===e&&(t.method=a?"email":"none"),t)),this.updateCalendarListSetting()},updateNotification([e,a],t){this.calendarInfo[t]=Array.from(e),this.updateCalendarListSetting(a)},updateCalendarListSetting(e=!0){window.zoomSdk.postJsMessage({functionName:"calendarui_patchcalendarlist",params:this.calendarInfo}).then(a=>{e&&(this.$notify.closeAll(),this.$notify({title:this.$t("zmUINotifySuccess"),message:"Your changes have been saved",type:"success"})),this.calendarInfo.notificationSettings=a.calendar.notificationSettings,this.initOtherNotification()}).catch(e=>{window.zoomLog("INFO","error",e)})},addNotification(e){this.$refs[e].addNotification()},getAclruleList(){window.zoomSdk.postJsMessage({functionName:"calendarui_listaclrules",params:{calendarId:this.calendarInfo.calendarId}}).then(e=>{this.sharePeopleList=this.filterUser(e.aclRules),this.handleEventsPermission(e.aclRules),this.showLoading=!1}).catch(e=>{window.zoomLog("INFO","error",e),this.showLoading=!1})},handleEventsPermission(e){e.map(e=>{"default"===e.scopeType&&(this.available2PublicVal=!0,this.available2PublicAclRule=e),"domain"===e.scopeType&&(this.available2CompanyVal=!0,this.available2CompanyAclRule=e)})},filterUser(e){const a=e.filter(e=>{if("user"===e.scopeType){if(this.calendarInfo.calendarId!==this.commonState.currentUser.calendarId){if(e.scopeValue===this.calendarInfo.calendarId)return;if(e.scopeValue===this.commonState.currentUser.calendarId)return e.disabled=!0,e}return e}});let t=[],i=[];return a.map(e=>{"owner"===e.role?t.push(e):i.push(e)}),t=(0,o.sortList)(t,"scopeValue"),i=(0,o.sortList)(i,"scopeValue"),t.concat(i)},deleteSharePeople(e){window.zoomSdk.postJsMessage({functionName:"calendarui_deleteaclrule",params:{calendarId:this.calendarInfo.calendarId,ruleId:e}}).then(()=>{this.getAclruleList()}).catch(e=>{window.zoomLog("INFO","error",e)})},patchSharePeoplePermission(e){window.zoomSdk.postJsMessage({functionName:"calendarui_patchaclrule",params:{calendarId:this.commonState.currentUser.calendarId,aclRule:e}}).then(()=>{this.getAclruleList()}).catch(e=>{window.zoomLog("INFO","error",e)})}}};a.default=r},f6df:function(e,a,t){}}]);
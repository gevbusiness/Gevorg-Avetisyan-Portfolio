"use strict";(self["webpackChunk_zoom_client_email_desktop"]=self["webpackChunk_zoom_client_email_desktop"]||[]).push([[744],{69744:function(t,a,e){e.r(a),e.d(a,{default:function(){return y}});var i=function(){var t=this,a=t._self._c;return t.visible?a("div",{staticClass:"invitation"},[t.detail.isCanceled?[a("div",{staticClass:"invitation-block invitation-header"},[a("div",{staticClass:"invitation-header__left"},[a("div",{staticClass:"invitation-title"},[t._v(t._s(t.detail.summary||"(Unknown)"))]),a("div",{staticClass:"invitation-time"},[t._v(" "+t._s(t.$t("calendar.canceled"))+" ")])]),a("div",{staticClass:"invitation-header__right"},[a("zm-button",{attrs:{type:"default",size:"mini"},on:{click:t.handleCalendarCardClose}},[t._v(" "+t._s(t.$t("calendar.close"))+" ")])],1)])]:[a("div",{staticClass:"invitation-block invitation-header"},[a("div",{staticClass:"invitation-header__left"},[a("div",{staticClass:"invitation-title"},[t._v(t._s(t.detail.summary||"(Unknown)"))]),a("div",{staticClass:"invitation-time"},[t._v(" "+t._s(t.formatCalendarDate(t.detail.startTime))+" "),t.detail.isAllDayEvent?t._e():[a("span",[t._v("â‹…")]),t._v(" "+t._s(t.formatCalendarTime(t.detail.startTime,t.detail.endTime,t.detail.crossDay))+" ")]],2)]),a("div",{staticClass:"invitation-header__right"},[a("zm-button",{attrs:{type:"default",size:"mini",tabindex:"0"},on:{click:t.handleCalendarCardClose}},[t._v(" "+t._s(t.$t("calendar.close"))+" ")])],1)]),!t.isMyOwnCalendarEvent&&t.detail.canResponse?a("div",{staticClass:"invitation-block invitation-actions"},[a("span",{staticClass:"invitation-actions-tip"},[t._v(t._s(t.$t("calendar.actionTip")))]),a("zm-button",{class:["invitation-actions__yes","primary"===t.formatCalendarStatus(t.finalStatus,t.RESPONSE_TYPE.YES)&&"selected"],attrs:{type:t.formatCalendarStatus(t.finalStatus,t.RESPONSE_TYPE.YES),size:"mini",tabindex:"0",round:""},on:{click:function(a){return t.handleCalendarResponse(t.RESPONSE_TYPE.YES)}}},[t._v(" "+t._s(t.$t("calendar.statusYes"))+" ")]),a("zm-button",{class:["invitation-actions__no","primary"===t.formatCalendarStatus(t.finalStatus,t.RESPONSE_TYPE.NO)&&"selected"],attrs:{type:t.formatCalendarStatus(t.finalStatus,t.RESPONSE_TYPE.NO),size:"mini",tabindex:"0",round:""},on:{click:function(a){return t.handleCalendarResponse(t.RESPONSE_TYPE.NO)}}},[t._v(" "+t._s(t.$t("calendar.statusNo"))+" ")]),a("zm-button",{class:["invitation-actions__maybe","primary"===t.formatCalendarStatus(t.finalStatus,t.RESPONSE_TYPE.MAYBE)&&"selected"],attrs:{type:t.formatCalendarStatus(t.finalStatus,t.RESPONSE_TYPE.MAYBE),size:"mini",tabindex:"0",round:""},on:{click:function(a){return t.handleCalendarResponse(t.RESPONSE_TYPE.MAYBE)}}},[t._v(" "+t._s(t.$t("calendar.statusMaybe"))+" ")])],1):t._e(),a("hr",{directives:[{name:"show",rawName:"v-show",value:t.detail.canJoin,expression:"detail.canJoin"}],staticClass:"divider"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.detail.canJoin,expression:"detail.canJoin"}],staticClass:"invitation-block invitation-meetings"},[a("zm-button",{staticClass:"invitation-meetings-join",attrs:{type:"primary",size:"small",href:t.detail.location,target:"_blank",tabindex:"0"},on:{click:t.handleJoinMeeting}},[t._v(" "+t._s(t.isMyOwnCalendarEvent?t.$t("calendar.startMeeting"):t.$t("calendar.joinMeeting"))+" ")])],1),a("hr",{staticClass:"divider"}),a("div",{staticClass:"invitation-block invitation-participants"},[a("div",{staticClass:"invitation-participants-organizer",on:{click:t.handleChangeFolded}},[a("avatar",{staticClass:"organizer-avatar",attrs:{email:t.detail.organizer.email,name:t.detail.organizer.displayName,disableUserCard:""}}),a("section",{staticClass:"organizer-info"},[a("span",{staticClass:"organizer-info-name"},[t._v(t._s(t.detail.organizer.displayName))]),a("span",{staticClass:"organizer-info-identity"},[t._v(t._s(t.$t("calendar.host")))])]),a("section",{staticClass:"organizer-extra"},[a("svg-icon",{staticClass:"organizer-extra-icon svg-icon",attrs:{iconClass:"participants",className:"system-icon"}}),a("span",{staticClass:"organizer-extra-amount"},[t._v(t._s(t.detail.attendees.length))]),a("i",{class:["organizer-extra-arrow","zm-icon-down",t.folded&&"folded"]})],1)],1),a("section",{directives:[{name:"show",rawName:"v-show",value:!t.folded,expression:"!folded"}]},[t._l(t.limitedAttendeesList,(function(e){return a("div",{key:e.email,staticClass:"invitation-participants-item"},[a("div",{staticClass:"invitation-participants-item__left"},[a("avatar",{staticClass:"item-avatar",attrs:{email:e.email,name:e.displayName||t.getDisplayName(e.email),disableUserCard:""}}),a("span",{staticClass:"item-name"},[t._v(t._s(e.displayName||t.getDisplayName(e.email)))])],1),a("div",{staticClass:"invitation-participants-item__right"},[e.respStatus.respStatus===t.RESPONSE_TYPE.YES?a("svg-icon",{staticClass:"participants-item-icon svg-icon",attrs:{iconClass:"calendar-checkmark",className:"system-icon"}}):e.respStatus.respStatus===t.RESPONSE_TYPE.NO?a("svg-icon",{staticClass:"participants-item-icon svg-icon",attrs:{iconClass:"calendar-close",className:"system-icon"}}):e.respStatus.respStatus===t.RESPONSE_TYPE.MAYBE?a("svg-icon",{staticClass:"participants-item-icon svg-icon",attrs:{iconClass:"calendar-question",className:"system-icon"}}):a("svg-icon",{staticClass:"participants-item-icon svg-icon",attrs:{iconClass:"calendar-waiting",className:"system-icon"}})],1)])})),a("p",{directives:[{name:"show",rawName:"v-show",value:t.detail.attendees.length>t.LIMITED_ATTENDEES_LIST_LENGTH&&t.attendeesLimitedDisplay,expression:"\n            detail.attendees.length > LIMITED_ATTENDEES_LIST_LENGTH && attendeesLimitedDisplay\n          "}],staticClass:"invitation-participants-all-guest"},[a("zm-button",{attrs:{type:"default",size:"small",tabindex:"0"},on:{click:t.handleShowAll}},[t._v(" "+t._s(t.$t("calendar.showAll"))+" ")])],1)],2)])]],2):t._e()},n=[],s=e(70021),l=e(56706),r=e(34948),o=e(76635),d=e.n(o),c=e(20629),m=e(87671),u=e(46815),v=e(86598),p=m.e.timeShift,_={YES:"Yes",MAYBE:"Maybe",NO:"No"},C=6,f={name:"CalendarEvent",components:{Avatar:v.Z},props:{calendarId:{type:String,required:!0},calendarType:{type:String,default:"None"}},data:function(){return{RESPONSE_TYPE:_,LIMITED_ATTENDEES_LIST_LENGTH:C,visible:!1,detail:{summary:"",startTime:0,endTime:0,isAllDayEvent:!1,crossDay:!1,location:"",isCanceled:!1,canResponse:!1,canJoin:!1,organizer:{displayName:"",email:""},attendees:[]},finalStatus:"",folded:!1,attendeesLimitedDisplay:!0}},computed:(0,r.Z)((0,r.Z)({},(0,c.rn)({userEmail:function(t){return t.userProfile.userEmail||""},userTimeZone:function(t){return t.userProfile.userTimeZone}})),{},{enabled:function(t){var a=t.calendarType;return"None"!==a},limitedAttendeesList:function(t){var a=t.detail,e=t.attendeesLimitedDisplay;return e?(null===a||void 0===a?void 0:a.attendees.filter((function(t){return t.email!==a.organizer.email})).slice(0,C))||[]:(null===a||void 0===a?void 0:a.attendees)||[]},isMyOwnCalendarEvent:function(t){var a=t.detail,e=t.userEmail;return a.organizer.email===e}}),mounted:function(){this.enabled&&this.getCalendarEventDetail()},methods:{formatCalendarDate:function(t){return p().tz(1e3*t,this.userTimeZone).format("dddd, MMMM D")},formatCalendarTime:function(t,a,e){var i=p().tz(1e3*t,this.userTimeZone).format("h:mm A"),n=p().tz(1e3*a,this.userTimeZone).format("h:mm A");return e?i:"".concat(i," - ").concat(n)},formatCalendarStatus:function(t,a){return t===String(a)?"primary":"default"},getDisplayName:function(t){return t.split("@")[0].split(".").map(d().capitalize).join(" ")},handleCalendarCardClose:function(){this.visible=!1},processCalendarEventData:function(t){var a=this;this.detail.summary=(null===t||void 0===t?void 0:t.summary)||"(None)",this.detail.startTime=t.startTime,this.detail.endTime=t.endTime,this.detail.isAllDayEvent=t.isAllDayEvent,this.detail.isCanceled=t.isCanceled,this.detail.canResponse=t.bCanResponse,this.detail.canJoin=!(null===t||void 0===t||!t.bCanJoin),this.detail.location=t.location,this.detail.organizer={displayName:this.getDisplayName(t.organizerEmail),email:t.organizerEmail},this.detail.attendees=t.attendees;var e=p().tz(t.startTime,this.userTimeZone),i=p().tz(t.endTime,this.userTimeZone);this.detail.crossDay=!e.isSame(i,"date");var n=t.attendees.find((function(t){return t.email===a.userEmail}));n&&(this.finalStatus=n.respStatus.respStatus)},getCalendarEventDetail:function(){var t=this;return(0,l.Z)((0,s.Z)().mark((function a(){var e;return(0,s.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u.f.getCalendarEventDetail({calendarId:t.calendarId});case 2:e=a.sent,e&&(t.processCalendarEventData(e),t.visible=!0);case 4:case"end":return a.stop()}}),a)})))()},handleCalendarResponse:function(t){var a=this;return(0,l.Z)((0,s.Z)().mark((function e(){var i;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.finalStatus=t,e.next=3,u.f.responseCalendarEvent({calendarId:a.calendarId,respStatus:t});case 3:i=e.sent,i&&(a.finalStatus=i,a.enabled&&a.getCalendarEventDetail());case 5:case"end":return e.stop()}}),e)})))()},handleJoinMeeting:function(){},handleChangeFolded:function(){var t=this;this.folded=!this.folded,this.$nextTick((function(){t.attendeesLimitedDisplay=!0}))},handleShowAll:function(){this.attendeesLimitedDisplay=!1}}},E=f,h=e(93483),S=(0,h.Z)(E,i,n,!1,null,"5823ce0e",null),y=S.exports}}]);